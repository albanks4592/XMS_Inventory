@model MigrationTool.Models.WorkflowStepDefinition
@{
    bool canEdit = Model.WorkflowDefinition.WorkflowInstances.Count() == 0;
}
@Html.HiddenFor(model => model.Id)
@Html.HiddenFor(model => model.SortOrder)
@Html.HiddenFor(model => model.WorkflowDefinition_Id)
@Html.ValidationSummary(true)

<div class="form-group">
    @Html.LabelFor(model => model.Name)
    @Html.EditorFor(model => model.Name)
    @Html.ValidationMessageFor(model => model.Name)
</div>

<div class="form-group">
    @Html.LabelFor(model => model.GroupName)
    @Html.EditorFor(model => model.GroupName)
    @Html.ValidationMessageFor(model => model.GroupName)
</div>

<div class="form-group">
    @Html.LabelFor(model => model.ResponsibleParty_Id, "Responsible Party")
    @if (canEdit)
    {
        @Html.DropDownListFor(model => model.ResponsibleParty_Id, (SelectList)ViewBag.ResponsibleParty_Id_Select, string.Empty, new { @class = "form-control" })
    }
    else
    {
        @Html.DropDownListFor(model => model.ResponsibleParty_Id, (SelectList)ViewBag.ResponsibleParty_Id_Select, string.Empty, new { @class = "form-control", disabled = "disabled" })
        @Html.HiddenFor(model => model.ResponsibleParty_Id)
    }
    @Html.ValidationMessageFor(model => model.ResponsibleParty_Id)
</div>

<div class="form-group">
    @Html.LabelFor(model => model.Description)
    @Html.EditorFor(model => model.Description)
    @Html.ValidationMessageFor(model => model.Description)
</div>